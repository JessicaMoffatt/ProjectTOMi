<!--
@author Jessica Moffatt
@version 2.0
-->
<div [ngClass]="'container'">
  <span [ngClass]="['arrow', 'rounded-circle','back']" (click)="displayPrevTimesheet()">
  </span>
  <span [ngClass]="'week_title'">Week of {{timesheetService.currentDate}}</span>
  <span [ngClass]="['arrow', 'rounded-circle','forward']" (click)="displayNextTimesheet()">
  </span>
  <app-date-picker [parent]="this"></app-date-picker>
  <span id="submission_status">{{timesheetService.currentStatus}}</span>

  <div [ngClass]="'container'">
    <div *ngFor="let entry of entries">
      <app-entry [ngClass]="'entry'" *ngIf="getStatusValue(entry.status.toString()) === sts.LOGGING" [entry]="entry" [projects]="projects"
                 (requestCopy)="copyEntry($event)"
                 (showDeleteModal)="displayDeleteEntryModal($event)"></app-entry>
      <app-entry [ngClass]="'rejected_entry'" *ngIf="getStatusValue(entry.status.toString()) === sts.REJECTED" [entry]="entry" [projects]="projects"
                 (requestCopy)="copyEntry($event)"
                 (showDeleteModal)="displayDeleteEntryModal($event)"></app-entry>
      <app-entry-uneditable [ngClass]="'submitted_entry'" *ngIf="getStatusValue(entry.status.toString()) === sts.SUBMITTED" [entry]="entry"></app-entry-uneditable>
      <app-entry-uneditable [ngClass]="'approved_entry'" *ngIf="getStatusValue(entry.status.toString()) === sts.APPROVED" [entry]="entry"></app-entry-uneditable>
    </div>

  </div>

  <div #entryHolder></div>
</div>
<div [ngClass]="'timesheet_footer'">
  <div (click)="addEntry()" [ngClass]="['new_entry', 'btn', 'new_btn','rounded-circle']"></div>
  <span [ngClass]="'hours_tally'">Hours:<strong> {{tally}}</strong></span>
  <span [ngClass]="['submit', 'btn', 'bottom_btn']" (click)="displaySubmitModal()"></span>
  <span [ngClass]="['save_timesheet', 'btn', 'bottom_btn', 'save_btn']" (click)="save().then()"></span>
</div>

