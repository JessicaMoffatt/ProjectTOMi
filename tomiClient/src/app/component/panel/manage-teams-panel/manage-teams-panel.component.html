<div style="float:left; width: 15vw; height:86vh;">
  <app-team-sidebar #sideBar></app-team-sidebar>
</div>
<div style="float:right; width: 85vw" class="team_view">
  <ng-template [ngIf]="isTeamSelected()">
    <mat-card class="team_edit_card">
      <mat-card-content>
        <form #editTeamForm="ngForm">
          <mat-form-field id="team">
            <input matInput #editTeamName placeholder="Team Name" [formControl]="teamNameControl">
          </mat-form-field>

          <div>
            <mat-form-field id="team_lead">
              <mat-select #editUserTeamId placeholder="Team Lead" [value]="this.getSelectedTeam().leadId">
                <mat-option [value]="-1">None</mat-option>
                <mat-option *ngFor="let user of this.getSelectedTeamMembers() | async"
                            [value]="user.id">{{user.firstName}} {{user.lastName}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="team_members" cdkDropListGroup>
            <div id="on_team">
            <span class="title_line">
              Team Members
              <mat-paginator [pageSize]="10" [pageIndex]="1"></mat-paginator>
            </span>
              <mat-chip-list cdkDropList #teamMembers="cdkDropList" [cdkDropListConnectedTo]="[availableUserAccounts]"
                             (cdkDropListDropped)="drop($event, 'team')">
                <mat-chip cdkDrag [cdkDragData]="user_account" (click)="move(user_account, 'team')"
                          class="user_account on_team"
                          *ngFor="let user_account of this.getSelectedTeamMembers() | async" cdkDrag>
                  {{user_account.firstName}} {{user_account.lastName}}
                </mat-chip>
              </mat-chip-list>
            </div>
            <div id="available">
              <span class="title_line">
                Available Members
                <mat-paginator [pageSize]="10" [pageIndex]="1"></mat-paginator>
              </span>
              <mat-chip-list cdkDropList #availableUserAccounts="cdkDropList" [cdkDropListConnectedTo]="[teamMembers]"
                             (cdkDropListDropped)="drop($event, 'available')">
                <mat-chip cdkDrag [cdkDragData]="user_account" (click)="move(user_account, 'available')"
                          class="user_account" *ngFor="let user_account of this.getAvailableMembers() | async"
                          cdkDrag>
                  {{user_account.firstName}} {{user_account.lastName}}
                </mat-chip>
              </mat-chip-list>
            </div>
          </div>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <button mat-flat-button class="manage_save_btn" (click)="save()">
          Save
        </button>
        <button mat-flat-button class="manage_cancel_btn" (click)="cancel()">
          Cancel
        </button>
        <button mat-flat-button class="manage_delete_btn" (click)="delete()">
          Delete
        </button>
      </mat-card-actions>
    </mat-card>
  </ng-template>
</div>
<button class=" floating_action_button" mat-fab (click)="openDialog()">
  <i class="material-icons">
    add
  </i>
</button>
