<mat-card id="project_details">
  <form>

    <mat-form-field>
      <input type="text"
             placeholder="Project Name"
             aria-label="Project Name"
             matInput
             [(ngModel)]="this.projectService.getSelectedProject().projectName"
             [formControl]="this.nameControl">
    </mat-form-field>
    <br/>

    <mat-form-field>
      <input type="text"
             placeholder="Client"
             aria-label="Client"
             matInput
             [(ngModel)]="this.projectService.getSelectedProject().client.name"
             [formControl]="clientControl"
             [matAutocomplete]="auto">
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let c of this.clientService.clients | async" [value]="c.name">
          {{c.name}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <br/>

    <mat-form-field>
      <mat-select placeholder="Project Manager"
                  aria-label="Project Manager"
                  [(value)]="this.projectService.getSelectedProject().projectManagerId">
        <mat-option [value]="null">None</mat-option>
        <mat-option *ngFor="let u of this.userAccountService.userSubject | async" [value]="u.id">
          {{u.firstName}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <br/>

    <mat-form-field>
      <input type="text"
             placeholder="{{this.projectService.getSelectedProject().id.match(this.projectService.regExp) ? 'Account ID' : 'Account Manager'}}"
             attr.aria-label="{{this.projectService.getSelectedProject().id.match(this.projectService.regExp) ? 'Account ID' : 'Account Manager'}}"
             matInput
             [(ngModel)]="this.projectService.getSelectedProject().id"
             [formControl]="idControl">
    </mat-form-field>
    <br/>

    <mat-form-field>
      <input placeholder="Billing Rate"
             aria-label="Billing Rate"
             type="number"
             min="0.00"
             matInput
             [(ngModel)]="this.projectService.getSelectedProject().billableRate"
             [formControl]="this.billingControl">
      <span matPrefix>$&nbsp;</span>
    </mat-form-field>
    <br/>

    <mat-form-field>
      <input type="number"
             placeholder="Budget Total"
             aria-label="Budget Total"
             min="0.00"
             matInput
             [(ngModel)]="this.projectService.getSelectedProject().budget"
             [formControl]="this.budgetControl">
      <span matPrefix>$&nbsp;</span>
    </mat-form-field>
    <br/>

    <div style="display: flex; justify-content: flex-end">
      <button (click)="save()" mat-button color="primary" style="order: 2">SAVE</button>
    </div>

  </form>
</mat-card>

<app-project-member-list></app-project-member-list>
<br>

<app-expense-list></app-expense-list>
